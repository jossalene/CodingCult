---
title: "Titanic"
author: "Hanh Nguyen"
date: "4/7/2020"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```
Load Titanic
```{r}
library(tidyverse)
titanic_raw <- read.csv("C:/Users/Jo/Desktop/CodingCult/practice-repo/titanic.csv")
titanic_raw
titanic <- titanic_raw %>% rename(Gender = Sex, Class = Pclass)
titanic
```
___________________
GENERAL INFORMATION
___________________
The dataset has 10 variables and 887 observations, each observation represents a passenger on the Titanic.
The 10 variables:
- Survived: 0 for not survived, 1 for survived
- Class: 1st, 2nd, and 3rd
- Name: passenger name
- Sex: male and female
- Age
- Siblings.Spouses.Aboard: number of siblings & spouses of the passenger who were also on board
- Parents.Children.Aboard: number of parents & children of the passenger who were also on board
- Fare: The cost of the fare that the passenger paid

_________________
AT A FIRST GLANCE
_________________
Purpose: to see basic data and calculation
```{r}
#Unsurvived Passenger
titanic %>% filter(Survived == 0)
#Survived Passenger
titanic %>% filter(Survived == 1)
#Children on the Titanic
children <- titanic %>% filter(Age < 13)
children
#Teens on the Titanic
teens <- titanic %>% filter(Age >= 13 & Age < 19)
teens
#Young aldults on the Titanic
y_adult <- titanic %>% filter(Age > 18 & Age < 40)
y_adult
#Middle-age adults on the Titanic
mid_adult <- titanic %>% filter(Age >= 40 & Age < 65)
mid_adult
#Elderly on the Titanic
elderly <- titanic %>% filter(Age >= 65)
elderly
```
There is a total of 545 unsurvived passengers and 342 survived passengers.

There were 79 children (0~12yo), 87 teens (13~18yo), 525 young adults (19~39yo), 183 middle-aged adults (41~64yo) and 13 elderly (65yo or above)


_________________
GENDER & SURVIVAL
_________________
Purpose: to see if there is a relationship between gender and survival.

```{r}
#number of female passenger
total_female <- titanic %>% summarise(sum(Gender == "female"))
total_female
#number of male passeger
total_male <- titanic %>% summarise(sum(Gender == "male"))
total_male
#number of survived female passenger
survived_female <- titanic %>% count(Gender == "female" & Survived == 1)
survived_female
#number of unsurvived female passenger
unsurvived_female <- titanic %>% count(Gender == "female" & Survived == 0)
unsurvived_female
#number of survived male passenger
survived_male <- titanic %>% count(Gender == "male" & Survived == 1)
survived_male
#number of unsurvived male passenger
unsurvived_male <- titanic %>% count(Gender == "male" & Survived == 0)
unsurvived_male
#gender and survival plot
titanic %>%
  ggplot(aes(x = Gender, y = Survived)) + geom_col(width = 0.2) +
  labs(title = "Gender and Survival on the Titanic")
```
*Conclusion*
Female passengers had a significant higher chance of survival than male passengers.
This makes sense because during the Titanic crash, women were prioritized to get on the rescue boat.

______________
AGE & SURVIVAL
______________
Purpose: to see if there is a relationship between the passenger's age and their chance of survival.

```{r}
#age-survival
titanic %>%
  ggplot(aes(x = Age)) + geom_histogram() + facet_wrap(~Survived)
#age with highest death in descending order
unsurvived_age <- titanic %>% group_by(Age) %>% filter(Survived == 0) %>% count(Age) %>% arrange(desc(n))
unsurvived_age
#plot of unsurvived age
ggplot(unsurvived_age, aes(x = Age, y = n)) + geom_line() + geom_smooth() + labs(title = "Plot of Age and Unsurvival")
#age with hight survival in descending order
survived_age <- titanic %>% group_by(Age) %>% filter(Survived == 1) %>% count(Age) %>% arrange(desc(n))
survived_age
#plot of survived age
ggplot(survived_age, aes(x = Age, y = n)) + geom_line() + geom_smooth() + labs(title = "Plot of Age and Survival")
#survived children
children %>% filter(Survived == 1)
#unsurvived children
children %>% filter(Survived == 0)
```
*Conclusion*
A large number of people, who were unable to survive the crash, came from different age range.
The age that had the highest number of unsurvived passengers were 21 years with 28 counts.
The age that had the highest number of survived passenger were 24 years with 18 counts.
There are 43 survived children, and 36 unsurvived children

________________
CLASS & SURVIVAL
________________
